<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Maintenance functions • tidyged</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Maintenance functions">
<meta property="og:description" content="tidyged">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tidyged</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/jl5000/tidyged/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="maintenance_functions_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Maintenance functions</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/jl5000/tidyged/blob/master/vignettes/maintenance_functions.Rmd"><code>vignettes/maintenance_functions.Rmd</code></a></small>
      <div class="hidden name"><code>maintenance_functions.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h2>
<p>GEDCOM files can get very large and unwieldy, resulting in inefficiencies and file bloat. The <code>tidyged</code> package offers functions to automate the cleaning of GEDCOM files.</p>
</div>
<div id="change-dates" class="section level2">
<h2 class="hasAnchor">
<a href="#change-dates" class="anchor"></a>Change dates</h2>
<p>All top level records in a GEDCOM file can record the date and time they were last modified. The <code>tidyged</code> package includes change dates (today’s date) by default every time a record is created or modified. Since the time is very unlikely to be useful in such a context, the package ignores this by default:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://jl5000.github.io/tidyged/">tidyged</a></span><span class="op">)</span>

<span class="fu"><a href="../reference/gedcom.html">gedcom</a></span><span class="op">(</span><span class="fu"><a href="../reference/subm.html">subm</a></span><span class="op">(</span><span class="st">"Me"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="right">level</th>
<th align="left">record</th>
<th align="left">tag</th>
<th align="left">value</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">0</td>
<td align="left">HD</td>
<td align="left">HEAD</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">HD</td>
<td align="left">GEDC</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="left">HD</td>
<td align="left">VERS</td>
<td align="left">5.5.5</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="left">HD</td>
<td align="left">FORM</td>
<td align="left">LINEAGE-LINKED</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="left">HD</td>
<td align="left">VERS</td>
<td align="left">5.5.5</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">HD</td>
<td align="left">CHAR</td>
<td align="left">UTF-8</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">HD</td>
<td align="left">DEST</td>
<td align="left">tidyged</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">HD</td>
<td align="left">SOUR</td>
<td align="left">tidyged</td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="left">HD</td>
<td align="left">VERS</td>
<td align="left">0.0.0</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="left">HD</td>
<td align="left">NAME</td>
<td align="left">The ‘tidyged’ package for the R language</td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="left">HD</td>
<td align="left">CORP</td>
<td align="left">Jamie Lendrum</td>
</tr>
<tr class="even">
<td align="right">3</td>
<td align="left">HD</td>
<td align="left">ADDR</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="left">HD</td>
<td align="left">EMAIL</td>
<td align="left"><a href="mailto:jalendrum@gmail.com" class="email">jalendrum@gmail.com</a></td>
</tr>
<tr class="even">
<td align="right">3</td>
<td align="left">HD</td>
<td align="left">WWW</td>
<td align="left"><a href="https://jl5000.github.io/tidyged/" class="uri">https://jl5000.github.io/tidyged/</a></td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">HD</td>
<td align="left">DATE</td>
<td align="left">14 FEB 2021</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">HD</td>
<td align="left">LANG</td>
<td align="left">English</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">HD</td>
<td align="left">SUBM</td>
<td align="left">
<span class="citation">@U1</span>@</td>
</tr>
<tr class="even">
<td align="right">0</td>
<td align="left">
<span class="citation">@U1</span>@</td>
<td align="left">SUBM</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">
<span class="citation">@U1</span>@</td>
<td align="left">NAME</td>
<td align="left">Me</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">
<span class="citation">@U1</span>@</td>
<td align="left">CHAN</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="left">
<span class="citation">@U1</span>@</td>
<td align="left">DATE</td>
<td align="left">14 FEB 2021</td>
</tr>
<tr class="even">
<td align="right">0</td>
<td align="left">TR</td>
<td align="left">TRLR</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>See row 20 and the row after for the change date for the submitter record.</p>
<p>By default this behaviour also applies when modifying existing records. If you would like to leave the change date alone when modifying a record, you can set <code>update_date_changed = FALSE</code> (it is TRUE by default).</p>
<p>For GEDCOM files with thousands of records, including change dates can add considerable bloat. For this reason it is possible to remove all change date structures with the <code><a href="../reference/remove_change_dates.html">remove_change_dates()</a></code> function:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/gedcom.html">gedcom</a></span><span class="op">(</span><span class="fu"><a href="../reference/subm.html">subm</a></span><span class="op">(</span><span class="st">"Me"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="../reference/remove_change_dates.html">remove_change_dates</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="right">level</th>
<th align="left">record</th>
<th align="left">tag</th>
<th align="left">value</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">0</td>
<td align="left">HD</td>
<td align="left">HEAD</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">HD</td>
<td align="left">GEDC</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="left">HD</td>
<td align="left">VERS</td>
<td align="left">5.5.5</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="left">HD</td>
<td align="left">FORM</td>
<td align="left">LINEAGE-LINKED</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="left">HD</td>
<td align="left">VERS</td>
<td align="left">5.5.5</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">HD</td>
<td align="left">CHAR</td>
<td align="left">UTF-8</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">HD</td>
<td align="left">DEST</td>
<td align="left">tidyged</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">HD</td>
<td align="left">SOUR</td>
<td align="left">tidyged</td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="left">HD</td>
<td align="left">VERS</td>
<td align="left">0.0.0</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="left">HD</td>
<td align="left">NAME</td>
<td align="left">The ‘tidyged’ package for the R language</td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="left">HD</td>
<td align="left">CORP</td>
<td align="left">Jamie Lendrum</td>
</tr>
<tr class="even">
<td align="right">3</td>
<td align="left">HD</td>
<td align="left">ADDR</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="left">HD</td>
<td align="left">EMAIL</td>
<td align="left"><a href="mailto:jalendrum@gmail.com" class="email">jalendrum@gmail.com</a></td>
</tr>
<tr class="even">
<td align="right">3</td>
<td align="left">HD</td>
<td align="left">WWW</td>
<td align="left"><a href="https://jl5000.github.io/tidyged/" class="uri">https://jl5000.github.io/tidyged/</a></td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">HD</td>
<td align="left">DATE</td>
<td align="left">14 FEB 2021</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">HD</td>
<td align="left">LANG</td>
<td align="left">English</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">HD</td>
<td align="left">SUBM</td>
<td align="left">
<span class="citation">@U1</span>@</td>
</tr>
<tr class="even">
<td align="right">0</td>
<td align="left">
<span class="citation">@U1</span>@</td>
<td align="left">SUBM</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">
<span class="citation">@U1</span>@</td>
<td align="left">NAME</td>
<td align="left">Me</td>
</tr>
<tr class="even">
<td align="right">0</td>
<td align="left">TR</td>
<td align="left">TRLR</td>
<td align="left"></td>
</tr>
</tbody>
</table>
</div>
<div id="duplicate-notes" class="section level2">
<h2 class="hasAnchor">
<a href="#duplicate-notes" class="anchor"></a>Duplicate notes</h2>
<p>With all records and many subrecords, it’s possible to include custom notes to augment the information provided. These can either be the notes themselves, or a pointer to a top level Note record:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">notes</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/gedcom.html">gedcom</a></span><span class="op">(</span><span class="fu"><a href="../reference/subm.html">subm</a></span><span class="op">(</span><span class="st">"Me"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/add_note.html">add_note</a></span><span class="op">(</span><span class="st">"This is a generic note."</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="../reference/add_indi.html">add_indi</a></span><span class="op">(</span>indi_notes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"This is a bespoke note."</span>, <span class="st">"This is a generic note."</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="../reference/add_repo.html">add_repo</a></span><span class="op">(</span><span class="st">"My repository"</span>, repo_notes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"This is a bespoke note."</span>, <span class="st">"This is a generic note."</span><span class="op">)</span><span class="op">)</span>

<span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="va">notes</span><span class="op">)</span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="right">level</th>
<th align="left">record</th>
<th align="left">tag</th>
<th align="left">value</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">0</td>
<td align="left">HD</td>
<td align="left">HEAD</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">HD</td>
<td align="left">GEDC</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="left">HD</td>
<td align="left">VERS</td>
<td align="left">5.5.5</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="left">HD</td>
<td align="left">FORM</td>
<td align="left">LINEAGE-LINKED</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="left">HD</td>
<td align="left">VERS</td>
<td align="left">5.5.5</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">HD</td>
<td align="left">CHAR</td>
<td align="left">UTF-8</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">HD</td>
<td align="left">DEST</td>
<td align="left">tidyged</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">HD</td>
<td align="left">SOUR</td>
<td align="left">tidyged</td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="left">HD</td>
<td align="left">VERS</td>
<td align="left">0.0.0</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="left">HD</td>
<td align="left">NAME</td>
<td align="left">The ‘tidyged’ package for the R language</td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="left">HD</td>
<td align="left">CORP</td>
<td align="left">Jamie Lendrum</td>
</tr>
<tr class="even">
<td align="right">3</td>
<td align="left">HD</td>
<td align="left">ADDR</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="left">HD</td>
<td align="left">EMAIL</td>
<td align="left"><a href="mailto:jalendrum@gmail.com" class="email">jalendrum@gmail.com</a></td>
</tr>
<tr class="even">
<td align="right">3</td>
<td align="left">HD</td>
<td align="left">WWW</td>
<td align="left"><a href="https://jl5000.github.io/tidyged/" class="uri">https://jl5000.github.io/tidyged/</a></td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">HD</td>
<td align="left">DATE</td>
<td align="left">14 FEB 2021</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">HD</td>
<td align="left">LANG</td>
<td align="left">English</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">HD</td>
<td align="left">SUBM</td>
<td align="left">
<span class="citation">@U1</span>@</td>
</tr>
<tr class="even">
<td align="right">0</td>
<td align="left">
<span class="citation">@U1</span>@</td>
<td align="left">SUBM</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">
<span class="citation">@U1</span>@</td>
<td align="left">NAME</td>
<td align="left">Me</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">
<span class="citation">@U1</span>@</td>
<td align="left">CHAN</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="left">
<span class="citation">@U1</span>@</td>
<td align="left">DATE</td>
<td align="left">14 FEB 2021</td>
</tr>
<tr class="even">
<td align="right">0</td>
<td align="left">
<span class="citation">@N1</span>@</td>
<td align="left">NOTE</td>
<td align="left">This is a generic note.</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">
<span class="citation">@N1</span>@</td>
<td align="left">CHAN</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="left">
<span class="citation">@N1</span>@</td>
<td align="left">DATE</td>
<td align="left">14 FEB 2021</td>
</tr>
<tr class="odd">
<td align="right">0</td>
<td align="left">
<span class="citation">@I1</span>@</td>
<td align="left">INDI</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">
<span class="citation">@I1</span>@</td>
<td align="left">SEX</td>
<td align="left">U</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">
<span class="citation">@I1</span>@</td>
<td align="left">CHAN</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="left">
<span class="citation">@I1</span>@</td>
<td align="left">DATE</td>
<td align="left">14 FEB 2021</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">
<span class="citation">@I1</span>@</td>
<td align="left">NOTE</td>
<td align="left">This is a bespoke note.</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">
<span class="citation">@I1</span>@</td>
<td align="left">NOTE</td>
<td align="left">This is a generic note.</td>
</tr>
<tr class="odd">
<td align="right">0</td>
<td align="left">
<span class="citation">@R1</span>@</td>
<td align="left">REPO</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">
<span class="citation">@R1</span>@</td>
<td align="left">NAME</td>
<td align="left">My repository</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">
<span class="citation">@R1</span>@</td>
<td align="left">NOTE</td>
<td align="left">This is a bespoke note.</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">
<span class="citation">@R1</span>@</td>
<td align="left">NOTE</td>
<td align="left">This is a generic note.</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">
<span class="citation">@R1</span>@</td>
<td align="left">CHAN</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="left">
<span class="citation">@R1</span>@</td>
<td align="left">DATE</td>
<td align="left">14 FEB 2021</td>
</tr>
<tr class="odd">
<td align="right">0</td>
<td align="left">TR</td>
<td align="left">TRLR</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>In the above example, there is a generic note recorded in a top level Note record. This same note message has been used for the individual and repository defined, but they have been repeated rather than pointing to the Note record. There is also a repeated bespoke note given in the Individual and Repository records.</p>
<p>The <code><a href="../reference/consolidate_notes.html">consolidate_notes()</a></code> function will simplify the file, replacing note values with pointers to top level Note records (creating them if necessary) if they are repeated:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/consolidate_notes.html">consolidate_notes</a></span><span class="op">(</span><span class="va">notes</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="right">level</th>
<th align="left">record</th>
<th align="left">tag</th>
<th align="left">value</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">0</td>
<td align="left">HD</td>
<td align="left">HEAD</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">HD</td>
<td align="left">GEDC</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="left">HD</td>
<td align="left">VERS</td>
<td align="left">5.5.5</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="left">HD</td>
<td align="left">FORM</td>
<td align="left">LINEAGE-LINKED</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="left">HD</td>
<td align="left">VERS</td>
<td align="left">5.5.5</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">HD</td>
<td align="left">CHAR</td>
<td align="left">UTF-8</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">HD</td>
<td align="left">DEST</td>
<td align="left">tidyged</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">HD</td>
<td align="left">SOUR</td>
<td align="left">tidyged</td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="left">HD</td>
<td align="left">VERS</td>
<td align="left">0.0.0</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="left">HD</td>
<td align="left">NAME</td>
<td align="left">The ‘tidyged’ package for the R language</td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="left">HD</td>
<td align="left">CORP</td>
<td align="left">Jamie Lendrum</td>
</tr>
<tr class="even">
<td align="right">3</td>
<td align="left">HD</td>
<td align="left">ADDR</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="left">HD</td>
<td align="left">EMAIL</td>
<td align="left"><a href="mailto:jalendrum@gmail.com" class="email">jalendrum@gmail.com</a></td>
</tr>
<tr class="even">
<td align="right">3</td>
<td align="left">HD</td>
<td align="left">WWW</td>
<td align="left"><a href="https://jl5000.github.io/tidyged/" class="uri">https://jl5000.github.io/tidyged/</a></td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">HD</td>
<td align="left">DATE</td>
<td align="left">14 FEB 2021</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">HD</td>
<td align="left">LANG</td>
<td align="left">English</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">HD</td>
<td align="left">SUBM</td>
<td align="left">
<span class="citation">@U1</span>@</td>
</tr>
<tr class="even">
<td align="right">0</td>
<td align="left">
<span class="citation">@U1</span>@</td>
<td align="left">SUBM</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">
<span class="citation">@U1</span>@</td>
<td align="left">NAME</td>
<td align="left">Me</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">
<span class="citation">@U1</span>@</td>
<td align="left">CHAN</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="left">
<span class="citation">@U1</span>@</td>
<td align="left">DATE</td>
<td align="left">14 FEB 2021</td>
</tr>
<tr class="even">
<td align="right">0</td>
<td align="left">
<span class="citation">@N1</span>@</td>
<td align="left">NOTE</td>
<td align="left">This is a generic note.</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">
<span class="citation">@N1</span>@</td>
<td align="left">CHAN</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="left">
<span class="citation">@N1</span>@</td>
<td align="left">DATE</td>
<td align="left">14 FEB 2021</td>
</tr>
<tr class="odd">
<td align="right">0</td>
<td align="left">
<span class="citation">@I1</span>@</td>
<td align="left">INDI</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">
<span class="citation">@I1</span>@</td>
<td align="left">SEX</td>
<td align="left">U</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">
<span class="citation">@I1</span>@</td>
<td align="left">CHAN</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="left">
<span class="citation">@I1</span>@</td>
<td align="left">DATE</td>
<td align="left">14 FEB 2021</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">
<span class="citation">@I1</span>@</td>
<td align="left">NOTE</td>
<td align="left">
<span class="citation">@N2</span>@</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">
<span class="citation">@I1</span>@</td>
<td align="left">NOTE</td>
<td align="left">
<span class="citation">@N1</span>@</td>
</tr>
<tr class="odd">
<td align="right">0</td>
<td align="left">
<span class="citation">@R1</span>@</td>
<td align="left">REPO</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">
<span class="citation">@R1</span>@</td>
<td align="left">NAME</td>
<td align="left">My repository</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">
<span class="citation">@R1</span>@</td>
<td align="left">NOTE</td>
<td align="left">
<span class="citation">@N2</span>@</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">
<span class="citation">@R1</span>@</td>
<td align="left">NOTE</td>
<td align="left">
<span class="citation">@N1</span>@</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">
<span class="citation">@R1</span>@</td>
<td align="left">CHAN</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="left">
<span class="citation">@R1</span>@</td>
<td align="left">DATE</td>
<td align="left">14 FEB 2021</td>
</tr>
<tr class="odd">
<td align="right">0</td>
<td align="left">
<span class="citation">@N2</span>@</td>
<td align="left">NOTE</td>
<td align="left">This is a bespoke note.</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">
<span class="citation">@N2</span>@</td>
<td align="left">CHAN</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="left">
<span class="citation">@N2</span>@</td>
<td align="left">DATE</td>
<td align="left">14 FEB 2021</td>
</tr>
<tr class="even">
<td align="right">0</td>
<td align="left">TR</td>
<td align="left">TRLR</td>
<td align="left"></td>
</tr>
</tbody>
</table>
</div>
<div id="unreferenced-records" class="section level2">
<h2 class="hasAnchor">
<a href="#unreferenced-records" class="anchor"></a>Unreferenced records</h2>
<p>If there are any records that are not referenced anywhere else, they can be found with the <code><a href="../reference/identify_unused_records.html">identify_unused_records()</a></code> function. In the function below we create 6 family group records, half with members, half without, and also an unreferenced Repository record:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">some_unref</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/gedcom.html">gedcom</a></span><span class="op">(</span><span class="fu"><a href="../reference/subm.html">subm</a></span><span class="op">(</span><span class="st">"Me"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="../reference/add_indi.html">add_indi</a></span><span class="op">(</span>qn <span class="op">=</span> <span class="st">"Tom Smith"</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="../reference/add_indi.html">add_indi</a></span><span class="op">(</span>qn <span class="op">=</span> <span class="st">"Tammy Smith"</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="../reference/add_indi.html">add_indi</a></span><span class="op">(</span>qn <span class="op">=</span> <span class="st">"Alice White"</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="../reference/add_indi.html">add_indi</a></span><span class="op">(</span>qn <span class="op">=</span> <span class="st">"Phil Brown"</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="../reference/add_famg.html">add_famg</a></span><span class="op">(</span>husband <span class="op">=</span> <span class="st">"Tom"</span>, wife <span class="op">=</span> <span class="st">"Tammy"</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="../reference/add_famg.html">add_famg</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="../reference/add_famg.html">add_famg</a></span><span class="op">(</span>husband <span class="op">=</span> <span class="st">"Phil"</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="../reference/add_famg.html">add_famg</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="../reference/add_famg.html">add_famg</a></span><span class="op">(</span>children <span class="op">=</span> <span class="st">"Alice"</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="../reference/add_famg.html">add_famg</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="../reference/add_repo.html">add_repo</a></span><span class="op">(</span><span class="st">"Test repo"</span><span class="op">)</span> 
  
<span class="fu"><a href="../reference/identify_unused_records.html">identify_unused_records</a></span><span class="op">(</span><span class="va">some_unref</span><span class="op">)</span>
<span class="co">#&gt; [1] "@F2@" "@F4@" "@F6@" "@R1@"</span></code></pre></div>
<p>We can find out more about these xrefs by using the <code><a href="../reference/describe_records.html">describe_records()</a></code> function:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/identify_unused_records.html">identify_unused_records</a></span><span class="op">(</span><span class="va">some_unref</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="../reference/describe_records.html">describe_records</a></span><span class="op">(</span>gedcom <span class="op">=</span> <span class="va">some_unref</span><span class="op">)</span>
<span class="co">#&gt; [1] "Family @F2@, headed by no individuals, and no children"</span>
<span class="co">#&gt; [2] "Family @F4@, headed by no individuals, and no children"</span>
<span class="co">#&gt; [3] "Family @F6@, headed by no individuals, and no children"</span>
<span class="co">#&gt; [4] "Repository @R1@, Test repo"</span></code></pre></div>
<p>We can remove multiple records at once using the <code><a href="../reference/remove_records.html">remove_records()</a></code> function:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/remove_records.html">remove_records</a></span><span class="op">(</span><span class="va">some_unref</span>, <span class="fu"><a href="../reference/identify_unused_records.html">identify_unused_records</a></span><span class="op">(</span><span class="va">some_unref</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; Family @F2@, headed by no individuals removed</span>
<span class="co">#&gt; Family @F4@, headed by no individuals removed</span>
<span class="co">#&gt; Family @F6@, headed by no individuals removed</span>
<span class="co">#&gt; Repository @R1@, Test repo removed</span>
<span class="co">#&gt; GEDCOM version 5.5.5 (LINEAGE-LINKED)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Individuals:         4</span>
<span class="co">#&gt; Families:            3</span>
<span class="co">#&gt; Submitters:          1</span>
<span class="co">#&gt; Multimedia objects:  0</span>
<span class="co">#&gt; Notes:               0</span>
<span class="co">#&gt; Sources:             0</span>
<span class="co">#&gt; Repositories:        0</span></code></pre></div>
</div>
<div id="dealing-with-entire-branches" class="section level2">
<h2 class="hasAnchor">
<a href="#dealing-with-entire-branches" class="anchor"></a>Dealing with entire branches</h2>
<p>One of the more sophisticated features of <code>tidyged</code> is the ability to manipulate entire branches of your tree.</p>
<p>We illustrate its functionality using the family below consisting of three generations: A pair of parents who has a single child (named ‘Main Person’). This person forms two separate family groups with two spouses, each resulting in two children.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">three_gen</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/gedcom.html">gedcom</a></span><span class="op">(</span><span class="fu"><a href="../reference/subm.html">subm</a></span><span class="op">(</span><span class="st">"Me"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="../reference/add_indi.html">add_indi</a></span><span class="op">(</span>qn <span class="op">=</span> <span class="st">"Parent 1"</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="../reference/add_indi.html">add_indi</a></span><span class="op">(</span>qn <span class="op">=</span> <span class="st">"Parent 2"</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="../reference/add_indi.html">add_indi</a></span><span class="op">(</span>qn <span class="op">=</span> <span class="st">"Main Person"</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="../reference/add_indi.html">add_indi</a></span><span class="op">(</span>qn <span class="op">=</span> <span class="st">"Spouse 1"</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="../reference/add_indi.html">add_indi</a></span><span class="op">(</span>qn <span class="op">=</span> <span class="st">"Spouse 2"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/add_indi.html">add_indi</a></span><span class="op">(</span>qn <span class="op">=</span> <span class="st">"Child 1"</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="../reference/add_indi.html">add_indi</a></span><span class="op">(</span>qn <span class="op">=</span> <span class="st">"Child 2"</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="../reference/add_indi.html">add_indi</a></span><span class="op">(</span>qn <span class="op">=</span> <span class="st">"Child 3"</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="../reference/add_indi.html">add_indi</a></span><span class="op">(</span>qn <span class="op">=</span> <span class="st">"Child 4"</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="../reference/add_famg.html">add_famg</a></span><span class="op">(</span><span class="st">"Parent 1"</span>, <span class="st">"Parent 2"</span>, children <span class="op">=</span> <span class="st">"Main Person"</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="../reference/add_famg.html">add_famg</a></span><span class="op">(</span><span class="st">"Main Person"</span>, <span class="st">"Spouse 1"</span>, children <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Child 1"</span>, <span class="st">"Child 2"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/add_famg.html">add_famg</a></span><span class="op">(</span><span class="st">"Main Person"</span>, <span class="st">"Spouse 2"</span>, children <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Child 3"</span>, <span class="st">"Child 4"</span><span class="op">)</span><span class="op">)</span>

<span class="fu"><a href="../reference/df_indi.html">df_famg</a></span><span class="op">(</span><span class="va">three_gen</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">xref</th>
<th align="left">husband</th>
<th align="left">wife</th>
<th align="left">marriage_date</th>
<th align="left">marriage_place</th>
<th align="left">num_children</th>
<th align="left">last_modified</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">
<span class="citation">@F1</span>@</td>
<td align="left">Parent 1</td>
<td align="left">Parent 2</td>
<td align="left"></td>
<td align="left"></td>
<td align="left">1</td>
<td align="left">14 FEB 2021</td>
</tr>
<tr class="even">
<td align="left">
<span class="citation">@F2</span>@</td>
<td align="left">Main Person</td>
<td align="left">Spouse 1</td>
<td align="left"></td>
<td align="left"></td>
<td align="left">2</td>
<td align="left">14 FEB 2021</td>
</tr>
<tr class="odd">
<td align="left">
<span class="citation">@F3</span>@</td>
<td align="left">Main Person</td>
<td align="left">Spouse 2</td>
<td align="left"></td>
<td align="left"></td>
<td align="left">2</td>
<td align="left">14 FEB 2021</td>
</tr>
</tbody>
</table>
<p>We use the <code><a href="../reference/identify_descendants.html">identify_descendants()</a></code> function below to identify the descendants of Main Person. By default it will exclude the individual and their spouses, and associated family groups:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/identify_descendants.html">identify_descendants</a></span><span class="op">(</span><span class="va">three_gen</span>, <span class="st">"Main Person"</span><span class="op">)</span>
<span class="co">#&gt; [1] "@I6@" "@I7@" "@I8@" "@I9@"</span></code></pre></div>
<p>We can use the <code><a href="../reference/describe_records.html">describe_records()</a></code> function to see descriptions:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">three_gen</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="../reference/identify_descendants.html">identify_descendants</a></span><span class="op">(</span><span class="st">"Main Person"</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="../reference/describe_records.html">describe_records</a></span><span class="op">(</span><span class="va">three_gen</span>, <span class="va">.</span><span class="op">)</span>
<span class="co">#&gt; [1] "Individual @I6@, Child 1, child of Main Person and Spouse 1"</span>
<span class="co">#&gt; [2] "Individual @I7@, Child 2, child of Main Person and Spouse 1"</span>
<span class="co">#&gt; [3] "Individual @I8@, Child 3, child of Main Person and Spouse 2"</span>
<span class="co">#&gt; [4] "Individual @I9@, Child 4, child of Main Person and Spouse 2"</span></code></pre></div>
<p>Setting <code>include_spouses = TRUE</code> will include all spouses and their descendants:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">three_gen</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="../reference/identify_descendants.html">identify_descendants</a></span><span class="op">(</span><span class="st">"Main Person"</span>, include_spouses <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="../reference/describe_records.html">describe_records</a></span><span class="op">(</span><span class="va">three_gen</span>, <span class="va">.</span><span class="op">)</span>
<span class="co">#&gt; [1] "Individual @I5@, Spouse 2"                                  </span>
<span class="co">#&gt; [2] "Individual @I4@, Spouse 1"                                  </span>
<span class="co">#&gt; [3] "Individual @I6@, Child 1, child of Main Person and Spouse 1"</span>
<span class="co">#&gt; [4] "Individual @I7@, Child 2, child of Main Person and Spouse 1"</span>
<span class="co">#&gt; [5] "Individual @I8@, Child 3, child of Main Person and Spouse 2"</span>
<span class="co">#&gt; [6] "Individual @I9@, Child 4, child of Main Person and Spouse 2"</span></code></pre></div>
<p>Setting <code>include_individual = TRUE</code> will include the individual:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">three_gen</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="../reference/identify_descendants.html">identify_descendants</a></span><span class="op">(</span><span class="st">"Main Person"</span>, include_individual <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="../reference/describe_records.html">describe_records</a></span><span class="op">(</span><span class="va">three_gen</span>, <span class="va">.</span><span class="op">)</span>
<span class="co">#&gt; [1] "Individual @I3@, Main Person, child of Parent 1 and Parent 2"</span>
<span class="co">#&gt; [2] "Individual @I6@, Child 1, child of Main Person and Spouse 1" </span>
<span class="co">#&gt; [3] "Individual @I7@, Child 2, child of Main Person and Spouse 1" </span>
<span class="co">#&gt; [4] "Individual @I8@, Child 3, child of Main Person and Spouse 2" </span>
<span class="co">#&gt; [5] "Individual @I9@, Child 4, child of Main Person and Spouse 2"</span></code></pre></div>
<p>Setting <code>include_families = TRUE</code> will include the individual’s families where they are a spouse:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">three_gen</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="../reference/identify_descendants.html">identify_descendants</a></span><span class="op">(</span><span class="st">"Main Person"</span>, include_individual <span class="op">=</span> <span class="cn">TRUE</span>, include_spouses <span class="op">=</span> <span class="cn">TRUE</span>,
                       include_families <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="../reference/describe_records.html">describe_records</a></span><span class="op">(</span><span class="va">three_gen</span>, <span class="va">.</span><span class="op">)</span>
<span class="co">#&gt; [1] "Family @F2@, headed by Main Person and Spouse 1, and children: Child 1, Child 2"</span>
<span class="co">#&gt; [2] "Family @F3@, headed by Main Person and Spouse 2, and children: Child 3, Child 4"</span>
<span class="co">#&gt; [3] "Individual @I5@, Spouse 2"                                                      </span>
<span class="co">#&gt; [4] "Individual @I4@, Spouse 1"                                                      </span>
<span class="co">#&gt; [5] "Individual @I3@, Main Person, child of Parent 1 and Parent 2"                   </span>
<span class="co">#&gt; [6] "Individual @I6@, Child 1, child of Main Person and Spouse 1"                    </span>
<span class="co">#&gt; [7] "Individual @I7@, Child 2, child of Main Person and Spouse 1"                    </span>
<span class="co">#&gt; [8] "Individual @I8@, Child 3, child of Main Person and Spouse 2"                    </span>
<span class="co">#&gt; [9] "Individual @I9@, Child 4, child of Main Person and Spouse 2"</span></code></pre></div>
<p>Instead of describing the records, we can remove them with <code><a href="../reference/remove_records.html">remove_records()</a></code>:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">three_gen</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="../reference/identify_descendants.html">identify_descendants</a></span><span class="op">(</span><span class="st">"Main Person"</span>, include_individual <span class="op">=</span> <span class="cn">TRUE</span>, include_spouses <span class="op">=</span> <span class="cn">TRUE</span>,
                       include_families <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="../reference/remove_records.html">remove_records</a></span><span class="op">(</span><span class="va">three_gen</span>, <span class="va">.</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="../reference/df_indi.html">df_famg</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; Family @F2@, headed by Main Person and Spouse 1 removed</span>
<span class="co">#&gt; Family @F3@, headed by Main Person and Spouse 2 removed</span>
<span class="co">#&gt; Individual @I5@, Spouse 2 removed</span>
<span class="co">#&gt; Individual @I4@, Spouse 1 removed</span>
<span class="co">#&gt; Individual @I3@, Main Person removed</span>
<span class="co">#&gt; Individual @I6@, Child 1 removed</span>
<span class="co">#&gt; Individual @I7@, Child 2 removed</span>
<span class="co">#&gt; Individual @I8@, Child 3 removed</span>
<span class="co">#&gt; Individual @I9@, Child 4 removed</span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">xref</th>
<th align="left">husband</th>
<th align="left">wife</th>
<th align="left">marriage_date</th>
<th align="left">marriage_place</th>
<th align="left">num_children</th>
<th align="left">last_modified</th>
</tr></thead>
<tbody><tr class="odd">
<td align="left">
<span class="citation">@F1</span>@</td>
<td align="left">Parent 1</td>
<td align="left">Parent 2</td>
<td align="left"></td>
<td align="left"></td>
<td align="left">0</td>
<td align="left">14 FEB 2021</td>
</tr></tbody>
</table>
<p>This combination can result in the removal of a vast amount of data. It will tell the user precisely what it is removing. Be sure the function has done what you expect before accepting the results. It is recommended that you use this function with extreme caution if you think a descendant (or their spouse) may be connected to an individual on another branch of your tree.</p>
<p>Instead of deleting the records, you can instead opt to create a new tidyged object with these records using the <code><a href="../reference/split_gedcom.html">split_gedcom()</a></code> function:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">three_gen</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="../reference/identify_descendants.html">identify_descendants</a></span><span class="op">(</span><span class="st">"Main Person"</span>, include_individual <span class="op">=</span> <span class="cn">TRUE</span>, include_spouses <span class="op">=</span> <span class="cn">TRUE</span>,
                       include_families <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="../reference/split_gedcom.html">split_gedcom</a></span><span class="op">(</span><span class="va">three_gen</span>, <span class="va">.</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="../reference/df_indi.html">df_famg</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">xref</th>
<th align="left">husband</th>
<th align="left">wife</th>
<th align="left">marriage_date</th>
<th align="left">marriage_place</th>
<th align="left">num_children</th>
<th align="left">last_modified</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">
<span class="citation">@F2</span>@</td>
<td align="left">Main Person</td>
<td align="left">Spouse 1</td>
<td align="left"></td>
<td align="left"></td>
<td align="left">2</td>
<td align="left">14 FEB 2021</td>
</tr>
<tr class="even">
<td align="left">
<span class="citation">@F3</span>@</td>
<td align="left">Main Person</td>
<td align="left">Spouse 2</td>
<td align="left"></td>
<td align="left"></td>
<td align="left">2</td>
<td align="left">14 FEB 2021</td>
</tr>
</tbody>
</table>
<p>This function will, by default, remove any dead references to records that have not been included in the subsetting.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Jamie Lendrum.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
